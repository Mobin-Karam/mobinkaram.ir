export const meta = {
  slug: "fieldkit",
  title: "FieldKit — offline-first ops toolkit",
  summary: "Modular mobile toolkit for field teams: data capture, sync, and dashboards.",
  tags: ["Expo", "SQLite", "Sync"],
  stack: ["Expo", "SQLite", "NestJS"],
  year: "2024",
  status: "Shipped",
  featured: false,
  date: "2024-11-12",
  author: "Mobin Karam",
  authorAvatar: "",
  readingMinutes: 4,
  cover: "/fieldkit-cover.jpg",
};

# Problem
Field teams had zero connectivity and mixed Android versions; needed reliable data collection that syncs when online.

# Architecture
- **Client:** Expo + SQLite local store. Queue-based sync worker.
- **Sync:** Delta-based pushes to NestJS; conflict resolution via server timestamps + user precedence.
- **Backend:** NestJS + PostgreSQL. File uploads to S3-compatible storage.

# Tech decisions
- Expo for fast device compatibility; SQLite for durability offline.
- Avoided WebSockets; used pull-based sync due to flaky networks.
- Typed API contracts shared via `openapi-typescript`.

# Challenges
- Timezone drift broke reports — added server-side canonical timestamps.
- Device storage limits on cheap phones; pruned attachments after upload.

# Security considerations
- Device storage encrypted at rest; sensitive fields masked in logs.
- API keys rotated monthly; rate limits per device to block abuse.

# Deployment
- Dockerized API on VPS behind Nginx; nightly backups + restore drills.
- Health checks and error budgets tracked in a tiny status dashboard.

# Lessons
- Deterministic queues beat retries in poor connectivity.
- Ship a sync monitor screen for trust with field users.
